var adserve;(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t,e){return new Blob([t],{type:e})}t.r(e),t.d(e,{tv:()=>v});const s=window.navigator&&window.navigator.userAgent||"",a=/Android/i.test(s),o=/Edg/i.test(s),r=!o&&(/Chrome/i.test(s)||/CriOS/i.test(s)),n=/Safari/i.test(s)&&!r&&!a&&!o,d=function(t,e){if(!(t instanceof Element||t instanceof HTMLDocument))throw new Error("microphone audio slot is not defined");if(void 0===navigator.mediaDevices)throw new Error("this browser doesn't support navigator.mediaDevices");this._audioSlot=t,this._stream=null,this._mediaRecorder=null,this._recordedChunks=[],this.EVENTS={StartRecording:"StartRecording",StopRecording:"StopRecording",DataAvailable:"DataAvailable"},this._eventCallbacks={},this._attributes={isStarted:!1,mimeType:n?"audio/mp4":"audio/webm",version:"1.0.0"},this._options=Object.assign({timeSlice:5e3,media:{audio:!0}},e)};d.prototype.start=async function(){try{this._stream=await navigator.mediaDevices.getUserMedia(this._options.media),this._audioSlot.srcObject=this._stream,this.dump(),this._attributes.isStarted=!0}catch(t){this._attributes.isStarted=!1}},d.prototype.stop=function(){try{this._audioSlot.srcObject.getTracks().forEach((t=>t.stop())),this._audioSlot.srcObject=null}catch(t){}this._attributes.isStarted=!1},d.prototype.dump=function(){this._audioSlot.srcObject.getAudioTracks()[0]},d.prototype.startRecording=function(){this._attributes.isStarted&&this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream),this._recordedChunks=[],this._mediaRecorder.addEventListener("dataavailable",(t=>{if(t.data.size>0){const e=i(t.data,this._attributes.mimeType);this._recordedChunks.push(e),this.onDataAvailable(e)}})),this._mediaRecorder.addEventListener("stop",(()=>{})),this._mediaRecorder.start(this._options.timeSlice))},d.prototype.stopRecording=function(){this._mediaRecorder&&"inactive"!==this._mediaRecorder.state&&this._mediaRecorder.stop()},d.prototype.onDataAvailable=function(t){this.EVENTS.DataAvailable in this._eventCallbacks&&"function"==typeof this._eventCallbacks[this.EVENTS.DataAvailable]&&this._eventCallbacks[this.EVENTS.DataAvailable](t)},d.prototype.addEventListener=function(t,e,i){const s=e.bind(i);this._eventCallbacks[t]=s},d.prototype.removeEventListener=function(t){t in this._eventCallbacks&&(this._eventCallbacks[t]=null)},d.prototype.getVersion=function(){return this._attributes.version};const c=d,h=function(t,e){if(!(t instanceof Element||t instanceof HTMLDocument))throw new Error("screen video slot is not defined");if(void 0===navigator.mediaDevices)throw new Error("this browser doesn't support navigator.mediaDevices");this._videoSlot=t,this._stream=null,this._mediaRecorder=null,this._recordedChunks=[],this.EVENTS={StartRecording:"StartRecording",StopRecording:"StopRecording",DataAvailable:"DataAvailable"},this._eventCallbacks={},this._attributes={isStarted:!1,mimeType:n?"video/mp4":"video/webm",version:"1.0.0"},this._options=Object.assign({timeSlice:5e3,media:{video:!0,audio:!1}},e)};h.prototype.start=async function(){try{this._stream=await navigator.mediaDevices.getUserMedia(this._options.media),this._videoSlot.srcObject=this._stream,this.dump(),this._attributes.isStarted=!0}catch(t){this._attributes.isStarted=!1}},h.prototype.stop=function(){try{this._videoSlot.srcObject.getTracks().forEach((t=>t.stop())),this._videoSlot.srcObject=null}catch(t){}this._attributes.isStarted=!1},h.prototype.dump=function(){this._videoSlot.srcObject.getVideoTracks()[0]},h.prototype.startRecording=function(){this._attributes.isStarted&&this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream),this._recordedChunks=[],this._mediaRecorder.addEventListener("dataavailable",(t=>{if(t.data.size>0){const e=i(t.data,this._attributes.mimeType);this._recordedChunks.push(e),this.onDataAvailable(e)}})),this._mediaRecorder.addEventListener("stop",(()=>{})),this._mediaRecorder.start(this._options.timeSlice))},h.prototype.stopRecording=function(){this._mediaRecorder&&"inactive"!==this._mediaRecorder.state&&this._mediaRecorder.stop()},h.prototype.onDataAvailable=function(t){this.EVENTS.DataAvailable in this._eventCallbacks&&"function"==typeof this._eventCallbacks[this.EVENTS.DataAvailable]&&this._eventCallbacks[this.EVENTS.DataAvailable](t)},h.prototype.addEventListener=function(t,e,i){const s=e.bind(i);this._eventCallbacks[t]=s},h.prototype.removeEventListener=function(t){t in this._eventCallbacks&&(this._eventCallbacks[t]=null)},h.prototype.getVersion=function(){return this._attributes.version};const l=h,p=function(t,e){if(!(t instanceof Element||t instanceof HTMLDocument))throw new Error("screen video slot is not defined");if(void 0===navigator.mediaDevices)throw new Error("this browser doesn't support navigator.mediaDevices");this._videoSlot=t,this._stream=null,this._mediaRecorder=null,this._recordedChunks=[],this.EVENTS={StartRecording:"StartRecording",StopRecording:"StopRecording",DataAvailable:"DataAvailable"},this._eventCallbacks={},this._attributes={isStarted:!1,mimeType:n?"video/mp4":"video/webm",version:"1.0.0"},this._options=Object.assign({timeSlice:5e3,media:{video:{cursor:"always"},audio:!1}},e)};p.prototype.start=async function(){try{this._stream=await navigator.mediaDevices.getDisplayMedia(this._options.media),this._videoSlot.srcObject=this._stream,this.dump(),this._attributes.isStarted=!0}catch(t){this._attributes.isStarted=!1}},p.prototype.stop=function(){try{this._videoSlot.srcObject.getTracks().forEach((t=>t.stop())),this._videoSlot.srcObject=null}catch(t){}this._attributes.isStarted=!1},p.prototype.dump=function(){this._videoSlot.srcObject.getVideoTracks()[0]},p.prototype.startRecording=function(){this._attributes.isStarted&&this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream),this._recordedChunks=[],this._mediaRecorder.addEventListener("dataavailable",(t=>{if(t.data.size>0){const e=i(t.data,this._attributes.mimeType);this._recordedChunks.push(e),this.onDataAvailable(e)}})),this._mediaRecorder.addEventListener("stop",(()=>{})),this._mediaRecorder.start(this._options.timeSlice))},p.prototype.stopRecording=function(){this._mediaRecorder&&"inactive"!==this._mediaRecorder.state&&this._mediaRecorder.stop()},p.prototype.onDataAvailable=function(t){this.EVENTS.DataAvailable in this._eventCallbacks&&"function"==typeof this._eventCallbacks[this.EVENTS.DataAvailable]&&this._eventCallbacks[this.EVENTS.DataAvailable](t)},p.prototype.addEventListener=function(t,e,i){const s=e.bind(i);this._eventCallbacks[t]=s},p.prototype.removeEventListener=function(t){t in this._eventCallbacks&&(this._eventCallbacks[t]=null)},p.prototype.getVersion=function(){return this._attributes.version};const v={Microphone:c,Camera:l,Screen:p};adserve=e})();